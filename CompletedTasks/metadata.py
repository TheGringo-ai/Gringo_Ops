1. Add docstrings to functions `generate_metadata` and `runner_with_spinner_message`.
2. Add type hints for the return types of functions `generate_metadata` and `runner_with_spinner_message`.